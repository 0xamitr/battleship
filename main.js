(()=>{"use strict";function e(e,r){const t=document.createElement("div");t.setAttribute("style","height: 98px; width: 98px; border: solid 1px black"),t.setAttribute("class",`${r}`);let a=0,l=0;for(let r=0;r<36;r++){let r=t.cloneNode();r.innerText=[l,a],e.append(r),a++,a%6==0&&(l++,a=0)}}const r=()=>({playerboard:(()=>{let e=[[0,1,2,3,4,5],[0,1,2,3,4,5],[0,1,2,3,4,5],[0,1,2,3,4,5],[0,1,2,3,4,5],[0,1,2,3,4,5]],r=!1;const t=[];return{gameStatus:()=>r,place:(r,a)=>{const l=(e=>{const r=e;let t=0,a=!1;const l=()=>(t==r&&(a=!0),a);return{cords:[],hit:()=>{if(1==a)return!1;t++,l()},isSunk:l}})(a);if(2!=r.length)return!1;if(a<1)return!1;let o=a;if((()=>{let n=[];if(6-r[1]>=a){let c=0;for(;o;)"ship"!=e[r[0]][r[1]+a-o]&&(n.push([[r[0]],[r[1]+a-o]]),c++),o--;if(c==a)return l.cords=n,t.push(l),n=[],!0}return!1})()){for(o=a;o;)e[r[0]][r[1]+a-o]="ship",o--;return e}return e},receiveAttack:a=>{const l=t.length;let o=0;return"ship"==e[a[0]][a[1]]?t.forEach((r=>{r.cords.forEach((t=>{a[0]==t[0]&&a[1]==t[1]&&(r.hit(),1==r.isSunk()&&o++,e[a[0]][a[1]]="X")}))})):e[a[0]][a[1]]="@",l==o&&(r=!0),e[a[0]][a[1]]}}})()});!function(){const r=document.getElementsByClassName("gameboard");e(r[0],"player1"),e(r[1],"player2")}(),function(){let e="player1",t=!0;const a=r(),l=r();a.playerboard.place([2,2],2),l.playerboard.place([2,3],3),Array.from(document.getElementsByClassName("player1")).forEach((r=>{r.addEventListener("click",(()=>{if(t&&"player2"==e){if(r.style.backgroundColor="black","X"==a.playerboard.receiveAttack(r.innerText.split(",").map(Number))&&(r.style.backgroundColor="red"),1==a.playerboard.gameStatus())return console.log("player2 wins"),void(t=!1);e="player1"}}))}),{once:!0}),Array.from(document.getElementsByClassName("player2")).forEach((r=>{r.addEventListener("click",(()=>{if(t&&"player1"==e){if(r.style.backgroundColor="black","X"==l.playerboard.receiveAttack(r.innerText.split(",").map(Number))&&(r.style.backgroundColor="red"),1==l.playerboard.gameStatus())return console.log("player1 wins"),void(t=!1);e="player2"}}),{once:!0})}))}()})();