(()=>{"use strict";function e(e,t){const r=document.createElement("div");r.setAttribute("style","height: 58px; width: 58px; border: solid 1px black"),r.setAttribute("class",`${t}`);let l=0,a=0;for(let t=0;t<100;t++){let t=r.cloneNode(),o=[a,l];t.innerText=`${o}`,t.classList.add(`${o}`),e.append(t),l++,l%10==0&&(a++,l=0)}}const t=()=>({playerboard:(()=>{let e=[[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9]],t=!1;const r=[];let l=0;return{gameStatus:()=>t,place:(t,l,a)=>{console.log("Z");const o=(e=>{const t=e;let r=0,l=!1;const a=()=>(r==t&&(l=!0),l);return{cords:[],hit:()=>{if(1==l)return!1;r++,a()},isSunk:a}})(l);if(2!=t.length)return!1;if(l<1)return!1;let s=l;if((()=>{let a=[];if(10-t[1]>=l){let n=0;for(;s;)"ship"!=e[t[0]][t[1]+l-s]&&(a.push([[t[0]],[t[1]+l-s]]),n++),s--;if(n==l)return o.cords=a,r.push(o),a=[],!0}return!1})()){for(s=l;s;){e[t[0]][t[1]+l-s]="ship";let r=[t[0],t[1]+l-s];console.log(document.getElementsByClassName(r)[0]),"player1"==a&&document.getElementsByClassName(r)[0].setAttribute("style","background-color: grey"),"player2"==a&&document.getElementsByClassName(r)[1].setAttribute("style","background-color: grey"),s--}return!0}return!1},receiveAttack:a=>{const o=r.length;return"ship"==e[a[0]][a[1]]?r.forEach((t=>{t.cords.forEach((r=>{a[0]==r[0]&&a[1]==r[1]&&(t.hit(),1==t.isSunk()&&l++,e[a[0]][a[1]]="X")}))})):e[a[0]][a[1]]="@",o==l&&(t=!0),e[a[0]][a[1]]},getboard:()=>e}})()});!function(){const t=document.getElementsByClassName("gameboard");e(t[0],"player1"),e(t[1],"player2")}(),function(){const e=t(),r=t();console.log("hi"),function(e,t,r){let l=0,a=0,o=!0,s="placeship1";Array.from(document.getElementsByClassName("player1")).forEach((t=>{let r=0;t.addEventListener("click",(()=>{if("placeship1"!=s||(1==e.playerboard.place(t.innerText.split(",").map(Number),3,"player1")&&l++,2!=l)){if(o&&"player2"==s&&!r){t.style.backgroundColor="black";let l=e.playerboard.receiveAttack(t.innerText.split(",").map(Number));if("X"==l&&(t.style.backgroundColor="red",r++),"X"!=l&&(t.style.backgroundColor="black",r++),1==e.playerboard.gameStatus())return console.log("player2 wins"),void(o=!1);s="player1"}}else s="placeship2"}))})),Array.from(document.getElementsByClassName("player2")).forEach((e=>{let r=0;e.addEventListener("click",(()=>{if("placeship2"!=s||(1==t.playerboard.place(e.innerText.split(",").map(Number),3,"player2")&&a++,2!=a)){if(o&&"player1"==s&&!r){let l=t.playerboard.receiveAttack(e.innerText.split(",").map(Number));if(console.log(l),"X"==l&&(e.style.backgroundColor="red",r++),"X"!=l&&(e.style.backgroundColor="black",r++),1==t.playerboard.gameStatus())return console.log("player1 wins"),void(o=!1);s="player2"}}else s="player1"}))}))}(e,r)}()})();